<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--=============== FAVICON ===============-->
    <link rel="shortcut icon" href="assets/img/favicon.png" type="image/x-icon">

    <!--=============== REMIXICONS ===============-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.7.0/remixicon.css">

    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="App.css">

    <title>PBL E: PaddlePace</title>
    <style>
      .cloud-shadow {
         content: '';
         position: absolute;
         width: 100%;
         height: 100%;
         border-radius: 20px; /* Match the main element's border-radius */
         background-color: #87CEEB;
      }

      .cloud-shadow::before,
      .cloud-shadow::after {
         content: '';
         position: absolute;
         width: 50%;
         height: 100%;
         background-color: inherit;
         border-radius: inherit;
      }

      .cloud-shadow::before {
         left: 0;
         transform: translateX(-50%) skewX(45deg);
      }

      .cloud-shadow::after {
         right: 0;
         transform: translateX(50%) skewX(-45deg);
      }

        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            height: 100vh;
            background-color: #fff; /* Set background color */
        }

        .content {
            display: block;
            align-items: center;
            text-align: center;
            width: 100%; /* Set width to 100% */
        }

        #line {
            width: 20px;
            height: 100%;
            background-color: black;
            position: absolute;
            left: 50%;
            top: 0;
            box-shadow: 0 0 10px 5px white, 0 0 20px 10px white, 0 0 30px 15px white;

            /* Create pseudo-elements for shaping the shadow */
            content: '';
            position: absolute;
            width: 50%;
            height: 100%;
            background-color: inherit;
            border-radius: 50%;
         }
        #overlay {
            width: 100vh;
            height: 100vh;
            text-align: center;
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            background-color: rgba(255, 255, 255, 0.9);
            z-index: 2;
         }


        #route-info-container,
        .form-container,
        #weather-info,
        #overlay {
            width: 60%; /* Adjust as needed */
            text-align: center;
            margin-bottom: 20px; /* Adjust as needed */
            display: none; /* Hide initially */
            position: absolute;
            top: 0;
            left: 0;
            background-color: rgba(255, 255, 255, 0.9); /* Semi-transparent white */
            z-index: 2; /* Place overlay above other elements */
        }

        .label,
        .input,
        .button {
            margin-bottom: 10px; /* Adjust as needed */
        }

        .form-container {
            width: 100%; /* Take up full width */
            text-align: center;
            display: flex;
            flex-direction: column;
        }
        #loading-screen {
            width: 100vw;
            height: 100vh;
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            background-color: rgba(255, 255, 255, 0.9);
            z-index: 4; /* Place loading screen above other elements */
            align-items: center;
            justify-content: center;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        #loading-wheel {
            width: 50px;
            height: 50px;
            border: 5px solid #3498db; /* Choose the color of the wheel */
            border-top: 5px solid #fff; /* Choose the color of the wheel */
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

         .button-container{
         top: 10px;
         left:10px;
         }
    </style>
</head>
<body>
<!--==================== HEADER ====================-->

<header class="header" id="header">

    <nav class="nav container">

        <a href="#" class="nav__logo">
            <span>Team E</span>
            <span>PaddlePace</span>
            <img src="logo.png" alt="group" style="width:70px;height: 70px; position: absolute;left:10%" />


        </a>
    </nav>

    <div class="nav__menu" id="nav-menu">
        <ul class="nav__list">
            <li class="nav__item">
                <a href="index.html" class="nav__link">
                    <span>01</span> Home
                </a>
            </li>
            <li class="nav__item">
                <a href="map.html" class="nav__link active-link">
                    <span>02</span> Maps
                </a>
            </li>
            <li class="nav__item">
                <a href="aboutUs.html" class="nav__link">
                    <span>03</span> About Us
                </a>
            </li>
        </ul>
    </div>



    <div class="content">

        <!-- User input for route calculation -->
         <!-- User input for route calculation -->
         <div id="route-info-container" style="width: 100%; font-family: 'Arial', sans-serif; color: #333; display: none; flex-direction: column; align-items: center;">
            <div class="button-container" id = "mapButton" >
               <a href="map.html" class="button">Back</a > 
            </div>
            <!-- Display route information -->
            <h2 id="route-time" style="font-size: 24px; margin-bottom: 10px;">Estimated Time</h2>
            <div style="text-align: center;">
               <h1 id="bike-time" style="font-size: 36px; color: #3498db;">15 min</h1>
               <h2 id="elevation-gap" style="font-size: 18px;">Elevation Gap: 100 meters</h2>
            </div>
         </div>

        <!-- Form container -->
        <div class="form-container" style="position:absolute; top: 55%; left: -8%; width: 80%; height: 100px;">
            <div>
               <!-- <label id="inputO" class="label" style = "position:absolute; left: 10%; top: 2px">Origin:</label>
               <input type="text" id="destination" name="destination" class="input"  style = "position:absolute; left: 20%; top: 5px">
                <label id="inputD" class="label" style = "position:absolute; left: 60%; top: 2px">Destination:</label>
                <input type="text" id="destination" name="destination" class="input"  style = "position:absolute; left: 70%; top: 5px"> -->
            </div>
            <a id="search_btn" class="button" onclick="showOverlay()" style="position: relative;top: 10px;">Calculate</a>
        </div>

        <div id="googleMap"></div>

        <!-- Weather information -->
<!-- Weather information -->
<div id="weather-info" style="display: flex; flex-direction: column; align-items: center; height: 80vh; overflow: scroll; display: none">
<div id="line" style="width: 10px; height: 100%; background-color: white; position: absolute; left: 50%; top: 800px;"></div>
<div id="line" style="width: 100%; height: 10px; background-color: white; position: absolute; left: 0%; top: 800px;"></div>

   <!-- Weather at origin -->
   <div style="width: 48%; display: flex; flex-direction: column; align-items: flex-start; text-align: left;">
      <h3> <span id="origin_header"></span></h3>
      <h3> <span id="start_weather"></span></h3>
      <h3> <span id="start_temp"></span></h3>
      <h3> <span id="end_temp"></span></h3>
      <h3> <span id="start_clouds"></span></h3>
      <h3> <span id="end_clouds"></span></h3>
      <h3> <span id="start_precip"></span></h3>
      <h3> <span id="end_precip"></span></h3>
      <iframe id="cloudsFrame1" src="sun.html" style="width: 30%; height: 400px; border: 3px solid white; border-radius: 20px;"></iframe>
      <iframe id="cloudsFrame2" src="rain.html" style="width: 30%; height: 400px; border: 3px solid white; border-radius: 20px;"></iframe>

   </div>

   <!-- Weather at destination -->
   <div style="width: 48%; display: flex; flex-direction: column; align-items: flex-start; text-align: left;">
      <h3> <span id="destination_header"></span></h3>
       <h3><span id="end_weather"></span></h3>
   </div>

</div>
   




      <div id="loading-screen">

         <svg id="loading-wheel" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <g transform="translate(12 12)">
                <circle cx="0" cy="0" r="10" stroke="#3498db" stroke-width="2" fill="none"></circle>
                <line x1="0" y1="0" x2="0" y2="-9" stroke="#3498db" stroke-width="2"></line>
                <line x1="0" y1="0" x2="7.07" y2="-7.07" stroke="#3498db" stroke-width="2"></line>
                <line x1="0" y1="0" x2="9" y2="0" stroke="#3498db" stroke-width="2"></line>
                <line x1="0" y1="0" x2="7.07" y2="7.07" stroke="#3498db" stroke-width="2"></line>
                <line x1="0" y1="0" x2="0" y2="9" stroke="#3498db" stroke-width="2"></line>
                <line x1="0" y1="0" x2="-7.07" y2="7.07" stroke="#3498db" stroke-width="2"></line>
                <line x1="0" y1="0" x2="-9" y2="0" stroke="#3498db" stroke-width="2"></line>
                <line x1="0" y1="0" x2="-7.07" y2="-7.07" stroke="#3498db" stroke-width="2"></line>
            </g>
        </svg>

        <a href="#" class="nav__logo">
         <span>Team E</span>
         <span style="color: #888;">Paddleace</span>
     </a>
     <img src="logo.png" alt="group" style="width:30px;height: 30px; position: absolute;left:55.5%; top:45%"/>


      </div>
    <!-- Close button -->
    <div class="nav__close" id="nav-close">
        <i class="ri-close-line"></i>
    </div>
    </div>

    <!-- Toogle button -->
    <div class="nav__toggle" id="nav-toggle">
        <i class="ri-apps-2-line"></i>

    </div>
</nav>


</header>
<main class="main">
<section class="home">
    <div class="home__container container">
        <div class="home__img">


        </div>
    </div>
    <div class="home__blob"></div>
    </div>


</section>


</div>
</div>
</main>
<script src="https://app.embed.im/snow.js" defer></script>
<script src="assets/js/main.js"></script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?language=en&key=// your key"></script>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="//" crossorigin="anonymous"></script>
<script>
   function showOverlay() {
       // Display loading screen
       var loadingScreen = document.getElementById('loading-screen');
       loadingScreen.style.display = 'flex';
   
       // Simulate calculation delay
       setTimeout(function () {
           // Hide loading screen
           loadingScreen.style.display = 'none';
   
           // Display route information
           var routeInfoContainer = document.getElementById('route-info-container');
           routeInfoContainer.style.opacity = '100%';
           routeInfoContainer.style.display = 'flex';
           
           var mapButton = document.getElementById('mapButton');
           mapButton.style.opacity = '100%';
           mapButton.style.position = 'absolute';
           mapButton.style.top = '5%'
           mapButton.style.left = '5%';

           // Display weather information
           var startWeather = document.getElementById('start_weather');
           var endWeather = document.getElementById('end_weather');
           var startHeader = document.getElementById('origin_header');
           var endHeader = document.getElementById('destination_header');
           var startTemp = document.getElementById('start_temp');
           var endTemp = document.getElementById('end_temp');
           var startClouds = document.getElementById('start_clouds');
           var endClouds = document.getElementById('end_clouds');
           var startPrecip = document.getElementById('start_precip');
           var endPrecip = document.getElementById('end_precip');
           function adjustIframeHeight() {
                var cloudsFrame1 = document.getElementById('cloudsFrame1');
                cloudsFrame1.style.height = cloudsFrame1.contentWindow.document.body.scrollHeight + 'px';
                var cloudsFrame2 = document.getElementById('cloudsFrame2');
                cloudsFrame2.style.height = cloudsFrame2.contentWindow.document.body.scrollHeight + 'px';
            }

   // Call the function after the iframe content has loaded
   document.getElementById('cloudsFrame1').onload = adjustIframeHeight;
   document.getElementById('cloudsFrame2').onload = adjustIframeHeight;

           var weatherInfo = document.getElementById('weather-info');

           var map = document.getElementById('googleMap');

           map.style.position = 'fixed';
           map.style.left = '10%';
           map.style.zIndex = '5';
           map.style.top = '200px';
           map.style.border = '5px solid white';
           map.style.borderRadius = '10px'; 
           map.style.boxShadow = '0 0 10px 5px white, 0 0 20px 10px white, 0 0 30px 15px white';


           weatherInfo.appendChild(map);
           weatherInfo.addEventListener('scroll', function() {
    // Update the position of the map based on the scroll offset
            var scrollOffset = weatherInfo.scrollTop;
            map.style.top = 'calc(200px - ' + scrollOffset + 'px)'; // Adjust the initial top position accordingly
            // Adjust left if needed: map.style.left = containerDiv.scrollLeft + 'px';
         });
        



           weatherInfo.style.display = 'flex';
   
           weatherInfo.style.width = '100%';
           weatherInfo.style.height = '100vh';
           weatherInfo.style.background = '#87CEEB';

           cloudsFrame1.style.position = 'absolute';
           cloudsFrame1.style.top = '1000px';
           cloudsFrame1.style.left = '10%';
           cloudsFrame1.style.overflow = 'hidden';
           cloudsFrame2.style.position = 'absolute';
           cloudsFrame2.style.top = '1000px';
           cloudsFrame2.style.right = '10%';
           cloudsFrame2.style.overflow = 'hidden';
           // Manually position the weather at the origin (top left)
           startHeader.innerHTML = 'Origin weather:  ' + startWeather.innerHTML + ', ' +  startClouds.innerHTML;

           startTemp.style.position = 'absolute';
           startTemp.style.top = '900px';
           startTemp.style.left = '10%';
           startTemp.style.color = 'black';
           startTemp.style.fontSize = '18px';
           startTemp.fontweight = 'bold';
           startTemp.style.backgroundColor= "lightblue";
           startTemp.style.padding = '10px 10px 10px 10px';
           startTemp.innerHTML = 'Origin temperature: ' + startTemp.innerHTML;
           startTemp.style.background = 'radial-gradient(ellipse, lightblue, #87CEEB';

           startHeader.style.position = 'absolute';
           startHeader.style.top = '850px';
           startHeader.style.left = '10%';
           startHeader.style.color = 'black';
           startHeader.style.backgroundColor= "lightblue";
           startHeader.style.padding = '10px 10px 10px 10px';
           startHeader.style.background = 'radial-gradient(ellipse, lightblue, #87CEEB';

           // Manually position the weather at the destination (top right)
           endTemp.style.position = 'absolute';
           endTemp.style.top = '900px';
           endTemp.style.right = '10%';
           endTemp.style.color = 'black';
           endTemp.style.fontSize = '18px';
           endTemp.fontweight = 'bold';
           endTemp.style.backgroundColor= "lightblue";
           endTemp.style.padding = '10px 10px 10px 10px';
           endTemp.innerHTML = 'Destination temperature: ' + endTemp.innerHTML;
           endTemp.style.background = 'radial-gradient(ellipse, lightblue, #87CEEB';

   
           endHeader.innerHTML = 'Destination weather:  ' + endWeather.innerHTML + ', ' + endClouds.innerHTML;
           endHeader.style.position = 'absolute';
           endHeader.style.top = '850px';
           endHeader.style.right = '10%';
           endHeader.style.color = 'black';
           endHeader.style.backgroundColor= "lightblue";
           endHeader.style.padding = '10px 10px 10px 10px';
           endHeader.style.background = 'radial-gradient(ellipse, lightblue, #87CEEB';
           
           startPrecip.style.position = 'absolute';
           startPrecip.style.top = '950px';
           startPrecip.style.left = '10%';
           startPrecip.style.color = 'black';
           startPrecip.style.fontSize = '18px';
           startPrecip.fontweight = 'bold';
           startPrecip.style.backgroundColor= "lightblue";
           startPrecip.style.padding = '10px 10px 10px 10px';
           startPrecip.style.background = 'radial-gradient(ellipse, lightblue, #87CEEB';
           startPrecip.innerHTML = 'Origin precipitation:  ' + startPrecip.innerHTML;



           endPrecip.style.position = 'absolute';
           endPrecip.style.top = '950px';
           endPrecip.style.right = '10%';
           endPrecip.style.color = 'black';
           endPrecip.style.fontSize = '18px';
           endPrecip.fontweight = 'bold';
           endPrecip.style.backgroundColor= "lightblue";
           endPrecip.style.padding = '10px 10px 10px 10px';
           endPrecip.style.background = 'radial-gradient(ellipse, lightblue, #87CEEB';
           endPrecip.innerHTML = 'Destination precipitation:  ' + endPrecip.innerHTML;

           console.log(endPrecip.innerHTML);


         
           
   
           // Bring the route info to the front
           routeInfoContainer.style.zIndex = '3';
           weatherInfo.style.zIndex = '2';
           mapButton.style.zIndex = '4';

           weatherInfo.style.fontSize = '0px';
           endHeader.style.fontSize = '18px';
           startHeader.style.fontSize = '18px';
   
       }, 2000); // Adjust the time as needed
   }
   </script>
<script>
   // Adjust the iframe height based on its content
   function adjustIframeHeight() {
       var cloudsFrame1 = document.getElementById('cloudsFrame1');
       cloudsFrame1.style.height = cloudsFrame1.contentWindow.document.body.scrollHeight + 'px';
       var cloudsFrame2 = document.getElementById('cloudsFrame2');
       cloudsFrame2.style.height = cloudsFrame2.contentWindow.document.body.scrollHeight + 'px';
   }

   // Call the function after the iframe content has loaded
   document.getElementById('cloudsFrame1').onload = adjustIframeHeight;
   document.getElementById('cloudsFrame2').onload = adjustIframeHeight;

</script>

<script src="map.js"></script>

</body>
</html>
